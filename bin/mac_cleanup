#!/bin/bash



# Private
sudo rm -rf /private/var/log/*
sudo rm -rf /private/var/tmp/*
# /prvate/var/db, No
# /prvate/var/vm, No
# /prvate/var/folders # Application temporary cache, remove by restart computer.

# System Library
sudo rm -rf /Library/Logs/*
# Clear user cache:
rm -rf ~/Library/Caches/*
# Clear system cache:
sudo rm -rf /Library/Caches/*

# Remove old Time Machine backups:
sudo tmutil deletelocalsnapshots /

# Remove unused Docker images and containers:
# check whether cmd docker exists if so run the command
command -v docker >/dev/null 2>&1 && docker system prune -a

# Empty the Trash:
rm -rf ~/.Trash/*


# Lark
rm -rf /Users/shuk/Library/Application\ Support/LarkInternational/sdk_storage/log/*

# Cache
rm -rf /Users/shuk/Library/Caches/Google/Chrome/Default/Cache/Cache_Data

# Golang
rm -rf /Users/shuk/projects/.local/go/src/*

# iMovie/iTunes
rm -rf /Users/shuk/Music/*

# Whatapps
rm -rf /Users/shuk/Library/Group\ Containers/group.net.whatsapp.WhatsApp.shared/Message/Media/*

# WeChat
rm -rf /Users/shuk/Library/Containers/com.tencent.xinWeChat/Data
rm -rf /Users/shuk/Library/Containers/com.tencent.xinWeChat.WeChatMacShare/Data

# Podcast
rm -rf /Users/shuk/Library/Containers/com.apple.podcasts/Data/tmp/StreamedMedia/*.mp3

# BackUp/Update
rm -rf /Users/shuk/Library/iTunes/iPhone\ Software\ Updates/*
rm -rf /Users/shuk/Library/Application\ Support/MobileSync/Backup/*

brew bundle cleanup





# get -f option



while getopts "f" opt; do
  case $opt in
    f)
        echo "Force cleanup enabled."
        reset
        ;;
    \?) # 處理未知標籤
        echo "Unknown option: $opt"
        ;;
    :) # 如果標籤後漏掉數值
        echo "選項 -$OPTARG 遺漏了參數數值。" >&2
        exit 1
        ;;
  esac
done

reset () {
    rm -Rf ~/Library/Caches/Apple\ -\ Safari\ -\ Safari\ Extensions\ Gallery
    rm -Rf ~/Library/Caches/Metadata/Safari
    rm -Rf ~/Library/Caches/com.apple.Safari
    rm -Rf ~/Library/Caches/com.apple.WebKit.PluginProcess
    rm -Rf ~/Library/Cookies/Cookies.binarycookies
    rm -Rf ~/Library/Preferences/Apple\ -\ Safari\ -\ Safari\ Extensions\ Gallery
    rm -Rf ~/Library/Preferences/com.apple.Safari.LSSharedFileList.plist
    rm -Rf ~/Library/Preferences/com.apple.Safari.RSS.plist
    rm -Rf ~/Library/Preferences/com.apple.Safari.plist
    rm -Rf ~/Library/Preferences/com.apple.WebFoundation.plist
    rm -Rf ~/Library/Preferences/com.apple.WebKit.PluginHost.plist
    rm -Rf ~/Library/Preferences/com.apple.WebKit.PluginProcess.plist
    rm -Rf ~/Library/PubSub/Database
    rm -Rf ~/Library/Saved\ Application\ State/com.apple.Safari.savedState
    rm ~/Library/Safari/Bookmarks.plist
}
