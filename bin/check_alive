#!/bin/bash

# $1:server ${@:2}:ports


server_name=$1    

server_alive="$(ping -c 1 $server_name  1>&/dev/null)"

if [ "$?" == "0" ]; then 
    echo "[$server_name] alive"
else
    echo "[$server_name] dead"
    exit 0
fi








for port in "${@:2}" 
do
    port_opened=$(nc -z $server_name $port)
    [ "$?" == "0" ] && echo -e "$port\topened" || echo -e "$port\tnot opened" 
done


