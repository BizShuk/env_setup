#!/bin/bash

echo "" >> README.md
ln -s README.md AGENTS.md
ln -s README.md GEMINI.md
ls -s README.md CLAUDE.md

mkdir .vscode

mkdir .agents
ln -sfh .agents .gemini
ln -sfh .agents .agent
ln -sh .agents .claude
echo "If .claude is used in this project, then $(ln -s .claude .agents)"

mkdir -p .agents/rules
mkdir -p .agents/skills


ln -sfh .gitignore .geminiignore


if [ ! -f ".agents/settings.json" ]; then

cat <<EOF > .agents/settings.json
{
  "mcp": {
    "excluded": [
    ]
  },
  "mcpServers": {
  }
}
EOF

fi

project_path=$(pwd)
project_name=$(basename "$project_path")

if [ -d "$HOME/projects/llm_plugin" ]; then
  ln -sfh "$(pwd)/.agents" "$HOME/projects/llm_plugin/projects/${project_name}"
fi


